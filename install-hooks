#!/bin/sh
# Install custom Git hooks from .githook/

HOOKS_DIR=".githook"

# Check for git repo
if [ ! -d ".git" ]; then
  echo "‚ÑπÔ∏è Skipping hook installation (no .git directory found)"
  exit 0
fi

# Check for git command
if ! command -v git >/dev/null 2>&1; then
  echo "‚ùå Git is not installed"
  exit 1
fi

# Check hooks directory exists
if [ ! -d "$HOOKS_DIR" ]; then
  echo "‚ùå Hooks directory '$HOOKS_DIR' not found!"
  exit 1
fi

# Configure Git to use custom hooks folder
git config core.hooksPath "$HOOKS_DIR"
echo "‚úÖ Git hooks path set to $HOOKS_DIR"

# Make all hook scripts executable
if [ "$(ls -A $HOOKS_DIR)" ]; then
  chmod +x "$HOOKS_DIR"/*
  echo "‚úÖ All hook scripts in $HOOKS_DIR are now executable"
else
  echo "‚ö†Ô∏è No hook scripts found in $HOOKS_DIR"
fi

echo "üéâ Git hooks installed successfully!"