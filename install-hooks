#!/bin/sh
# Install custom Git hooks from .githook/ using a loop

HOOKS_DIR=".githook"

# Check if inside a git repo
if [ ! -d ".git" ]; then
  echo "‚ÑπÔ∏è Skipping hook installation (no .git directory found)"
  exit 0
fi

# Check git command exists
if ! command -v git >/dev/null 2>&1; then
  echo "‚ùå Git is not installed"
  exit 1
fi

# Check hooks directory exists
if [ ! -d "$HOOKS_DIR" ]; then
  echo "‚ùå Hooks directory '$HOOKS_DIR' not found!"
  exit 1
fi

# Configure git to use the custom hooks folder
git config core.hooksPath "$HOOKS_DIR"
echo "‚úÖ Git hooks path set to $HOOKS_DIR"

# Loop over each file in hooks directory
for hook in "$HOOKS_DIR"/*; do
  if [ -f "$hook" ]; then
    chmod +x "$hook"
    echo "‚úÖ Installed hook: $(basename "$hook")"
  fi
done

echo "üéâ All Git hooks installed successfully!"